<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Cadastro de Forma de Pagamento</title>
    <link rel="stylesheet" href="cadastro.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/inputmask/5.0.6/jquery.inputmask.min.js"></script>
  </head>
  <body>
    <div class="container">
      <h1>Cadastro de Forma de Pagamento</h1>
      <form id="paymentForm" onsubmit="return redirecionarPagina()">
        <label for="cardNumber">Número do Cartão:</label>
        <input type="text" id="cardNumber" name="cardNumber" pattern="[0-9]{1,16}" required>

        <label for="expirationDate">Data de Expiração:</label>
        <input type="text" id="expirationDate" name="expirationDate" required>

        <label for="cvv">CVV:</label>
        <input type="text" id="cvv" name="cvv" pattern="[0-9]{3}" required>

        <label for="name">Nome no Cartão:</label>
        <input type="text" id="name" name="name" oninput="this.value = this.value.toUpperCase()" required>

        <button type="submit" id="submitBtn">Finalizar Cadastro</button>
      </form>
    </div>

    <script src="script.js"></script>
    <script>
      $(document).ready(function() {
        $('#expirationDate').inputmask('99/99');
      });

      function redirecionarPagina() {
        var cardNumber = document.getElementById("cardNumber").value;
        var expirationDate = document.getElementById("expirationDate").value;
        var cvv = document.getElementById("cvv").value;
        var name = document.getElementById("name").value;

        // Redireciona o usuário para a página de confirmação com os valores do formulário
        var params = "?cardNumber=" + encodeURIComponent(cardNumber) +
                     "&expirationDate=" + encodeURIComponent(expirationDate) +
                     "&cvv=" + encodeURIComponent(cvv) +
                     "&name=" + encodeURIComponent(name);

        window.location.href = "confirmacao.html" + params;

        return false; // Impede o envio do formulário
      }
    </script>
  </body>
</html>
